slice(1) %>%
unlist(., use.names=FALSE) -> PPS_deployment_header_2_list_2
c(PPS_deployment_header_1_list_1,PPS_deployment_header_2_list_2) -> pps_event_header
str_trim(pps_event_header) %>% discard(., is.na)  -> pps_event_header_clean
pps_event_header_clean
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 23, skip = 73,stringsAsFactors = FALSE)
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 23, skip = 74,stringsAsFactors = FALSE)
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 74,stringsAsFactors = FALSE)
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 3, skip = 74,stringsAsFactors = FALSE)
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 2, skip = 74,stringsAsFactors = FALSE)
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 74,stringsAsFactors = FALSE)
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 75,stringsAsFactors = FALSE)
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 76,stringsAsFactors = FALSE)
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 75,stringsAsFactors = FALSE)
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 74,stringsAsFactors = FALSE)
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 2, skip = 74,stringsAsFactors = FALSE)
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 2, skip = 74)
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 74)
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 74,sep="|")
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 2, skip = 74,sep="|")
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 3, skip = 74,sep="|")
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 4, skip = 74,sep="|")
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 30, skip = 74,sep="|")
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 100, skip = 74,sep="|")
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 90, skip = 74,sep="|")
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 91, skip = 74,sep="|")
PPS_event_data
PPS_event_data
PPS_event_data %>%
filter(., !is.na(V1))
pps_event_header_clean
PPS_event_data
pps_event_header_clean[length(pps_event_header_clean)-8:length(pps_event_header_clean)]
PPS_deployment_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 91, skip = 74,sep="|")
PPS_deployment_data %>%
filter(., !is.na(V1))
PPS_deployment_data %>%
filter(., !is.na(V1)) -> PPS_deployment_data
PPS_deployment_data
pps_event_header_clean[length(pps_event_header_clean)-8:length(pps_event_header_clean)]
pps_event_header_clean[length(pps_event_header_clean)-8:length(pps_event_header_clean)] -> pps_event_header_clean
c(PPS_deployment_header_1_list_1,PPS_deployment_header_2_list_2) -> pps_deployment_header
c(PPS_deployment_header_1_list_1,PPS_deployment_header_2_list_2) -> pps_deployment_header
str_trim(pps_deployment_header) %>% discard(., is.na)  -> pps_deployment_header_clean
pps_deployment_header_clean[length(pps_deployment_header_clean)-8:length(pps_deployment_header_clean)] -> pps_deployment_header_clean
PPS_deployment_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 91, skip = 74,sep="|")
PPS_deployment_data %>%
filter(., !is.na(V1)) -> PPS_deployment_data
colnames(PPS_deployment_data) <- c(pps_deployment_header_clean)
PPS_deployment_data
PPS_deployment_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 91, skip = 74,sep="|")
PPS_deployment_data %>%
filter(., !is.na(V1)) -> PPS_deployment_data
PPS_deployment_data
pps_deployment_header_clean
c(PPS_deployment_header_1_list_1,PPS_deployment_header_2_list_2) -> pps_deployment_header
str_trim(pps_deployment_header) %>% discard(., is.na)  -> pps_deployment_header_clean
pps_deployment_header_clean
pps_deployment_header_clean[length(pps_deployment_header_clean)-8:length(pps_deployment_header_clean)] -> pps_deployment_header_clean
pps_deployment_header_clean
pps_deployment_header_clean[length(pps_deployment_header_clean)-6:length(pps_deployment_header_clean)] -> pps_deployment_header_clean
str_trim(pps_deployment_header) %>% discard(., is.na)  -> pps_deployment_header_clean
pps_deployment_header_clean[length(pps_deployment_header_clean)-6:length(pps_deployment_header_clean)] -> pps_deployment_header_clean
pps_deployment_header_clean
length(pps_deployment_header_clean)-6
str_trim(pps_deployment_header) %>% discard(., is.na)  -> pps_deployment_header_clean
pps_deployment_header_clean
length(pps_deployment_header_clean)-6
length(pps_deployment_header_clean)
pps_deployment_header_clean
str_trim(pps_deployment_header) %>% discard(., is.na)  -> pps_deployment_header_clean
pps_deployment_header_clean[length(pps_deployment_header_clean)-6:length(pps_deployment_header_clean)] -> pps_deployment_header_clean2
pps_deployment_header_clean2
pps_deployment_header_clean
length(pps_deployment_header_clean)-6
length(pps_deployment_header_clean)
pps_deployment_header_clean[6:14]
pps_deployment_header
pps_deployment_header_clean
colnames(PPS_deployment_data) <- c(pps_deployment_header_clean)
colnames(PPS_deployment_data) <- c(pps_deployment_header_clean2)
PPS_deployment_data
pps_deployment_header_clean
pps_deployment_header_clean2
pps_deployment_header_clean[6:14]
pps_deployment_header_clean[(length(pps_deployment_header_clean)-6):length(pps_deployment_header_clean)] -> pps_deployment_header_clean2
pps_deployment_header_clean2
colnames(PPS_deployment_data) <- c(pps_deployment_header_clean2)
PPS_deployment_data
pps_deployment_header_clean[(length(pps_deployment_header_clean)-7):length(pps_deployment_header_clean)] -> pps_deployment_header_clean2
PPS_deployment_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 91, skip = 74,sep="|")
PPS_deployment_data %>%
filter(., !is.na(V1)) -> PPS_deployment_data
colnames(PPS_deployment_data) <- c(pps_deployment_header_clean2)
PPS_deployment_data
PPS_deployment_data %>%
rename(Event=Number)
PPS_event_data
PPS_event_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 32, sep="|",stringsAsFactors = FALSE)
PPS_event_header_2 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 35, sep="|",stringsAsFactors = FALSE)
PPS_event_header_1 %>%
slice(1) %>%
unlist(., use.names=FALSE) -> PPS_event_header_1_list_1
PPS_event_header_2 %>%
slice(1) %>%
unlist(., use.names=FALSE) -> PPS_event_header_2_list_2
c(PPS_event_header_1_list_1,PPS_event_header_2_list_2) -> pps_event_header
str_trim(pps_event_header) %>% discard(., is.na)  -> pps_event_header_clean
c("Event",pps_event_header_clean) -> pps_event_header_clean
pps_event_header_clean[length(pps_event_header_clean)] <- "Vol2"
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 23, skip = 36,stringsAsFactors = FALSE)
PPS_event_data %>%
unite("V1", V1:V2, sep="_") %>%
mutate(., V1= str_remove(V1,":"),
V5= str_remove(V5,"\\|"),
V6= str_remove(V6,"\\|"),
V8= str_remove(V8,"\\|")) -> PPS_event_data
PPS_event_data
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 23, skip = 36,stringsAsFactors = FALSE)
PPS_event_data
PPS_event_data %>%
mutate(., V2= str_remove(V2,":"),
V5= str_remove(V5,"\\|"),
V6= str_remove(V6,"\\|"),
V8= str_remove(V8,"\\|")) -> PPS_event_data
PPS_event_data
PPS_event_data %>%
mutate(., V2= str_remove(V2,":"),
V5= str_remove(V5,"\\|"),
V6= str_remove(V6,"\\|"),
V8= str_remove(V8,"\\|")) %>% dplyr::select(-V1) -> PPS_event_data
PPS_event_data
colnames(PPS_event_data) <- c(pps_event_header_clean)
PPS_event_data %>%
rename(Date_PPS_event = Flush) -> PPS_event_data
PPS_event_data
PPS_deployment_data %>%
rename(Event=Number)
PPS_deployment_data %>%
rename(Event=Number) %>%
separate(Time , into ="Date_PPS_deployment","Deployment Sample Time")
PPS_deployment_data %>%
rename(Event=Number) %>%
separate(Time , into ="Date_PPS_deployment","Deployment Sample Time", sep=
" ")
PPS_deployment_data %>%
rename(Event=Number) %>%
separate(Time , into ="Date_PPS_deployment","Deployment Sample Time", sep=" ")
PPS_deployment_data %>%
rename(Event=Number) %>%
separate(Time , into =c("Date_PPS_deployment","Deployment Sample Time"), sep=" ")
PPS_deployment_data %>%
rename(Event=Number) %>%
separate(Time , into =c("Date_PPS_deployment","Deployment Sample Time"), sep=" ")
PPS_deployment_data
PPS_deployment_data %>%
rename(Event=Number) %>%
mutate(., str_trim(Time))
PPS_deployment_data %>%
rename(Event=Number) %>%
mutate(., Time=str_trim(Time))
PPS_deployment_data %>%
rename(Event=Number) %>%
mutate(., Time=str_trim(Time)) %>%
separate(Time , into =c("Date_PPS_deployment","Deployment Sample Time"), sep=" ")
PPS_deployment_data %>%
rename(Event=Number) %>%
mutate(., Time=str_trim(Time)) %>%
separate(Time , into =c("Date_PPS_deployment","Deployment_Sample_Time"), sep=" ")
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 110, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 130, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 190, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 180, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 178, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 162, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 182, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 184, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_period_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 184, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_period <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 184, sep="|",stringsAsFactors = FALSE)
PPS_pumping_period
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 185, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 187, sep="|",stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_deployment_header_2 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 72,stringsAsFactors = FALSE)
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 187,,stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 187,stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE, sep="]",)
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 190,stringsAsFactors = FALSE, sep="]")
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 190,stringsAsFactors = FALSE, sep=" ")
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 88,stringsAsFactors = FALSE, sep=" ")
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE, sep=" ")
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE, sep="\t")
PPS_pumping_header_1
PPS_deployment_header_2 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 72,stringsAsFactors = FALSE, comment.char = "")
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE, sep="\t",comment.char = "")
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE, sep=" ",comment.char = "")
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE, sep="  ",comment.char = "")
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE, sep="  ",comment.char = "")
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE, sep=" ",comment.char = "")
PPS_pumping_header_1
PPS_pumping_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 188,stringsAsFactors = FALSE, sep="]",comment.char = "")
PPS_pumping_header_1
PPS_pumping_header_1 %>%
slice(1) %>%
unlist(., use.names=FALSE) -> PPS_pumping_header_1_list_1
PPS_pumping_header_1_list_1
PPS_pumping_header_1
str_trim(PPS_pumping_header_1_list_1) %>% discard(., is.na)
str_trim(PPS_pumping_header_1_list_1) %>% discard(., is.na) %>%
str_replace(., "[","")-> pps_deployment_header_clean
str_trim(PPS_pumping_header_1_list_1) %>% discard(., is.na) %>%
str_replace(., "\\[","") -> pps_deployment_header_clean
pps_deployment_header_clean
str_trim(PPS_pumping_header_1_list_1) %>% discard(., is.na) %>%
str_replace(., "\\[","") -> pps_pumping_header_clean
pps_pumping_header_clean
str_trim(PPS_pumping_header_1_list_1) %>% discard(., is.na) %>%
str_replace(., "\\[","") %>% str_replace(., "\\#","") -> pps_pumping_header_clean
pps_pumping_header_clean
str_trim(PPS_pumping_header_1_list_1) %>% discard(., is.na) %>%
str_replace(., "\\[","") %>% str_replace(., "\\#","") %>%
str_replace(., " ","_")-> pps_pumping_header_clean
pps_pumping_header_clean
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 91, skip = 190,sep="|")
PPS_pumping_data
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 91, skip = 190,sep=" ")
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 91, skip = 190,sep="|")
PPS_pumping_data
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 400, skip = 190,sep="|")
PPS_pumping_data
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 800, skip = 190,sep="|")
PPS_pumping_data
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1600, skip = 190,sep="|")
PPS_pumping_data
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 2000, skip = 190,sep="|")
PPS_pumping_data
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1438, skip = 190,sep="|")
PPS_pumping_data
tail(PPS_pumping_data, n=100)
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1421, skip = 190,sep="|")
tail(PPS_pumping_data, n=100)
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1421, skip = 190,sep=" ")
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1421, skip = 190,sep="\t")
PPS_pumping_data
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1421, skip = 190,sep="\\ ")
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1421, skip = 190,sep=" ")
PPS_pumping_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1421, skip = 190)
PPS_pumping_data
pps_pumping_header_clean
colnames(PPS_pumping_data) <- c(pps_pumping_header_clean)
PPS_pumping_data
PPS_pumping_data %>%
rename(Event=event) m -> PPS_pumping_data
PPS_pumping_data %>%
rename(Event=event) -> PPS_pumping_data
PPS_pumping_data
PPS_event_data %>%
left_join(PPS_deployment_data) %>%
left_join(PPS_pumping_data)
PPS_event_data
PPS_deployment_data
PPS_deployment_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 71, sep="|",stringsAsFactors = FALSE)
PPS_deployment_header_2 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 72, sep="|",stringsAsFactors = FALSE)
PPS_deployment_header_1 %>%
slice(1) %>%
unlist(., use.names=FALSE) -> PPS_deployment_header_1_list_1
PPS_deployment_header_2 %>%
slice(1) %>%
unlist(., use.names=FALSE) -> PPS_deployment_header_2_list_2
c(PPS_deployment_header_1_list_1,PPS_deployment_header_2_list_2) -> pps_deployment_header
str_trim(pps_deployment_header) %>% discard(., is.na)  -> pps_deployment_header_clean
pps_deployment_header_clean[(length(pps_deployment_header_clean)-7):length(pps_deployment_header_clean)] -> pps_deployment_header_clean2
PPS_deployment_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 91, skip = 74,sep="|")
PPS_deployment_data %>%
filter(., !is.na(V1)) -> PPS_deployment_data
colnames(PPS_deployment_data) <- c(pps_deployment_header_clean2)
PPS_deployment_data %>%
rename(Event=Number) %>%
mutate(., Time=str_trim(Time)) %>%
separate(Time , into =c("Date_PPS_deployment","Deployment_Sample_Time"), sep=" ") -> PPS_deployment_data
PPS_deployment_data
PPS_event_data %>%
left_join(PPS_deployment_data) %>%
left_join(PPS_pumping_data)
PPS_event_data
PPS_deployment_data
PPS_pumping_data
PPS_event_data %>%
rename(Date_PPS_event = Flush) %>%
mutate(., Event=as.integer(Event))-> PPS_event_data
PPS_event_header_1 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 32, sep="|",stringsAsFactors = FALSE)
PPS_event_header_2 <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 1, skip = 35, sep="|",stringsAsFactors = FALSE)
PPS_event_header_1 %>%
slice(1) %>%
unlist(., use.names=FALSE) -> PPS_event_header_1_list_1
PPS_event_header_2 %>%
slice(1) %>%
unlist(., use.names=FALSE) -> PPS_event_header_2_list_2
c(PPS_event_header_1_list_1,PPS_event_header_2_list_2) -> pps_event_header
str_trim(pps_event_header) %>% discard(., is.na)  -> pps_event_header_clean
c("Event",pps_event_header_clean) -> pps_event_header_clean
pps_event_header_clean[length(pps_event_header_clean)] <- "Vol2"
PPS_event_data <- read.table(file = here("PPS_Offload_M2_2023_14965-01.txt"), header=F, nrows = 23, skip = 36,stringsAsFactors = FALSE)
PPS_event_data %>%
mutate(., V2= str_remove(V2,":"),
V5= str_remove(V5,"\\|"),
V6= str_remove(V6,"\\|"),
V8= str_remove(V8,"\\|")) %>% dplyr::select(-V1) -> PPS_event_data
colnames(PPS_event_data) <- c(pps_event_header_clean)
PPS_event_data %>%
rename(Date_PPS_event = Flush) %>%
mutate(., Event=as.integer(Event))-> PPS_event_data
PPS_event_data
PPS_event_data %>%
left_join(PPS_deployment_data) %>%
left_join(PPS_pumping_data)
PPS_event_data
PPS_deployment_data
PPS_deployment_data %>%
pivot_wider(names_from = Procedure, values_from = c(Date_PPS_deployment,Deployment_Sample_Time,`Temp.`,`Voltage`, Pumped,Duration,Result))
PPS_deployment_data %>%
pivot_wider(names_from = Procedure, values_from = c(Date_PPS_deployment,Deployment_Sample_Time,`Temp.`,`Voltage`, Pumped,Duration,Result), names_sep = ".")
PPS_deployment_data %>%
pivot_wider(names_from = Procedure, values_from = c(Date_PPS_deployment,Deployment_Sample_Time,`Temp.`,`Voltage`, Pumped,Duration,Result), names_glue = "{variable}_{.value}")
PPS_deployment_data %>%
pivot_wider(names_from = Procedure, values_from = c(Date_PPS_deployment,Deployment_Sample_Time,`Temp.`,`Voltage`, Pumped,Duration,Result), names_glue = "{Procedure}_{.value}")
PPS_deployment_data %>%
mutate(., Procedure=str_replace(Procedure," ","_")) %>%
pivot_wider(names_from = Procedure, values_from = c(Date_PPS_deployment,Deployment_Sample_Time,`Temp.`,`Voltage`, Pumped,Duration,Result), names_glue = "{Procedure};{.value}")
PPS_deployment_data %>%
mutate(., Procedure=str_replace(Procedure," ","_"),
Procedure=str_trim(Procedure)) %>%
pivot_wider(names_from = Procedure, values_from = c(Date_PPS_deployment,Deployment_Sample_Time,`Temp.`,`Voltage`, Pumped,Duration,Result), names_glue = "{Procedure};{.value}")
PPS_deployment_data %>%
mutate(.,  Procedure=str_trim(Procedure),
Procedure=str_replace(Procedure," ","_")
) %>%
pivot_wider(names_from = Procedure, values_from = c(Date_PPS_deployment,Deployment_Sample_Time,`Temp.`,`Voltage`, Pumped,Duration,Result), names_glue = "{Procedure};{.value}")
PPS_deployment_data %>%
mutate(.,  Procedure=str_trim(Procedure),
Procedure=str_replace(Procedure," ","_")
) %>%
pivot_wider(names_from = Procedure, values_from = c(Date_PPS_deployment,Deployment_Sample_Time,`Temp.`,`Voltage`, Pumped,Duration,Result), names_glue = "{Procedure}:{.value}")
PPS_event_data %>%
left_join(PPS_deployment_data) %>%
left_join(PPS_pumping_data)
PPS_event_data %>%
left_join(PPS_deployment_data)
PPS_deployment_data %>%
mutate(.,  Procedure=str_trim(Procedure),
Procedure=str_replace(Procedure," ","_")
) %>%
pivot_wider(names_from = Procedure, values_from = c(Date_PPS_deployment,Deployment_Sample_Time,`Temp.`,`Voltage`, Pumped,Duration,Result), names_glue = "{Procedure}:{.value}") -> PPS_deployment_data
PPS_event_data %>%
left_join(PPS_deployment_data)
PPS_pumping_data
PPS_event_data %>%
left_join(PPS_deployment_data) -> PPS_data_to_append
sample_Data
sample_Data <- read.csv(file = here("2023_M2_Spring-Summer_cruise_file_log.csv"), header=T,fileEncoding="UTF-8")
sample_Data
sample_Data %>%
mutate(., Event = str_remove(Cast_No., "Event "))
sample_Data %>%
mutate(., Event = str_remove(Cast_No., "Event "),
Event = as.integer(Event)) %>%
left_join()
sample_Data %>%
mutate(., Event = str_remove(Cast_No., "Event "),
Event = as.integer(Event)) %>%
left_join(PPS_data_to_append)
sample_Data %>%
mutate(., Combined_date = str_c(Collection_Date_UTC, " ",Collection_Time_UTC)) %>%
mutate(.,  Date_UTC = as.POSIXct(Combined_date, format="%m/%d/%Y %H:%M", tz="UTC"),
Date_local= format(Date_UTC,tz="US/Alaska")) %>%
mutate(., Lat_fix =str_remove(Lat, "' N")) %>%
mutate(., Lat_fix =str_replace(Lat_fix, "°"," ")) %>%
mutate(., Lat_dec = measurements::conv_unit(Lat_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_fix =str_remove(Lon, "' W")) %>%
mutate(., Lon_fix =str_replace(Lon_fix, "°"," ")) %>%
mutate(., Lon_dec = measurements::conv_unit(Lon_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_dec=as.numeric(Lon_dec)) %>%
mutate(., , Lon_dec = Lon_dec*-1)
sample_Data
sample_Data <- read.csv(file = here("2023_M2_Spring-Summer_cruise_file_log.csv"), header=T,fileEncoding="UTF-8")
sample_Data %>%
mutate(., Combined_date = str_c(Collection_Date_local, " ",Collection_Time_local)) %>%
mutate(.,  Date_local = as.POSIXct(Combined_date, format="%m/%d/%Y %H:%M", tz="US/Alaska"),
Date_UTC= format(Date_local,tz="UTC"))
sample_Data %>%
mutate(., Combined_date = str_c(Collection_Date_local, " ",Collection_Time_local)) %>%
mutate(.,  Date_local = as.POSIXct(Combined_date, format="%m/%d/%Y %H:%M", tz="US/Alaska"),
Date_UTC= format(Date_local,tz="UTC")) %>%
mutate(., Lat_fix =str_remove(Lat, "' N")) %>%
mutate(., Lat_fix =str_replace(Lat_fix, "°"," ")) %>%
mutate(., Lat_dec = measurements::conv_unit(Lat_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_fix =str_remove(Lon, "' W")) %>%
mutate(., Lon_fix =str_replace(Lon_fix, "°"," ")) %>%
mutate(., Lon_dec = measurements::conv_unit(Lon_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_dec=as.numeric(Lon_dec)) %>%
mutate(., , Lon_dec = Lon_dec*-1)
sample_Data %>%
mutate(., Combined_date = str_c(Collection_Date_local, " ",Collection_Time_local)) %>%
mutate(.,  Date_local = as.POSIXct(Combined_date, format="%m/%d/%Y %H:%M", tz="US/Alaska"),
Date_UTC= format(Date_local,tz="UTC")) %>%
mutate(., Lat_fix =str_remove(Lat, "' N")) %>%
mutate(., Lat_fix =str_replace(Lat_fix, "°"," ")) %>%
mutate(., Lat_dec = measurements::conv_unit(Lat_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_fix =str_remove(Lon, "' W")) %>%
mutate(., Lon_fix =str_replace(Lon_fix, "°"," ")) %>%
mutate(., Lon_dec = measurements::conv_unit(Lon_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_dec=as.numeric(Lon_dec)) %>%
mutate(., , Lon_dec = Lon_dec*-1) %>%
mutate(., Event = str_remove(Cast_No., "Event "),
Event = as.integer(Event)) %>%
left_join(PPS_data_to_append)
sample_Data %>%
mutate(., Combined_date = str_c(Collection_Date_local, " ",Collection_Time_local)) %>%
mutate(.,  Date_local = as.POSIXct(Combined_date, format="%m/%d/%Y %H:%M", tz="US/Alaska"),
Date_UTC= format(Date_local,tz="UTC")) %>%
mutate(., Lat_fix =str_remove(Lat, "' N")) %>%
mutate(., Lat_fix =str_replace(Lat_fix, "°"," ")) %>%
mutate(., Lat_dec = measurements::conv_unit(Lat_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_fix =str_remove(Lon, "' W")) %>%
mutate(., Lon_fix =str_replace(Lon_fix, "°"," ")) %>%
mutate(., Lon_dec = measurements::conv_unit(Lon_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_dec=as.numeric(Lon_dec)) %>%
mutate(., , Lon_dec = Lon_dec*-1) %>%
mutate(., Event = str_remove(Cast_No., "Event "),
Event = as.integer(Event)) %>%
left_join(PPS_data_to_append) -> PPS_2023_M2_Spring-Summer_sample_data
sample_Data %>%
mutate(., Combined_date = str_c(Collection_Date_local, " ",Collection_Time_local)) %>%
mutate(.,  Date_local = as.POSIXct(Combined_date, format="%m/%d/%Y %H:%M", tz="US/Alaska"),
Date_UTC= format(Date_local,tz="UTC")) %>%
mutate(., Lat_fix =str_remove(Lat, "' N")) %>%
mutate(., Lat_fix =str_replace(Lat_fix, "°"," ")) %>%
mutate(., Lat_dec = measurements::conv_unit(Lat_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_fix =str_remove(Lon, "' W")) %>%
mutate(., Lon_fix =str_replace(Lon_fix, "°"," ")) %>%
mutate(., Lon_dec = measurements::conv_unit(Lon_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_dec=as.numeric(Lon_dec)) %>%
mutate(., , Lon_dec = Lon_dec*-1) %>%
mutate(., Event = str_remove(Cast_No., "Event "),
Event = as.integer(Event)) %>%
left_join(PPS_data_to_append) -> PPS_2023_M2_Spring-Summer_sample_data
sample_Data %>%
mutate(., Combined_date = str_c(Collection_Date_local, " ",Collection_Time_local)) %>%
mutate(.,  Date_local = as.POSIXct(Combined_date, format="%m/%d/%Y %H:%M", tz="US/Alaska"),
Date_UTC= format(Date_local,tz="UTC")) %>%
mutate(., Lat_fix =str_remove(Lat, "' N")) %>%
mutate(., Lat_fix =str_replace(Lat_fix, "°"," ")) %>%
mutate(., Lat_dec = measurements::conv_unit(Lat_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_fix =str_remove(Lon, "' W")) %>%
mutate(., Lon_fix =str_replace(Lon_fix, "°"," ")) %>%
mutate(., Lon_dec = measurements::conv_unit(Lon_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_dec=as.numeric(Lon_dec)) %>%
mutate(., , Lon_dec = Lon_dec*-1) %>%
mutate(., Event = str_remove(Cast_No., "Event "),
Event = as.integer(Event)) %>%
left_join(PPS_data_to_append)
sample_Data %>%
mutate(., Combined_date = str_c(Collection_Date_local, " ",Collection_Time_local)) %>%
mutate(.,  Date_local = as.POSIXct(Combined_date, format="%m/%d/%Y %H:%M", tz="US/Alaska"),
Date_UTC= format(Date_local,tz="UTC")) %>%
mutate(., Lat_fix =str_remove(Lat, "' N")) %>%
mutate(., Lat_fix =str_replace(Lat_fix, "°"," ")) %>%
mutate(., Lat_dec = measurements::conv_unit(Lat_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_fix =str_remove(Lon, "' W")) %>%
mutate(., Lon_fix =str_replace(Lon_fix, "°"," ")) %>%
mutate(., Lon_dec = measurements::conv_unit(Lon_fix,'deg_dec_min','dec_deg')) %>%
mutate(., Lon_dec=as.numeric(Lon_dec)) %>%
mutate(., , Lon_dec = Lon_dec*-1) %>%
mutate(., Event = str_remove(Cast_No., "Event "),
Event = as.integer(Event)) %>%
left_join(PPS_data_to_append) -> PPS_2023_M2_Spring_Summer_sample_data
readr::write_excel_csv(PPS_2023_M2_Spring_Summer_sample_data, file="PPS_2023_M2_Spring_Summer_sample_data_sample_data_20240702.csv")
